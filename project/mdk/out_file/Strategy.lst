C251 COMPILER V5.60.0,  Strategy                                                           04/10/25  22:09:30  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE Strategy
OBJECT MODULE PLACED IN .\out_file\Strategy.obj
COMPILER INVOKED BY: D:\keil\C251\BIN\C251.EXE ..\code\Strategy.c LARGE NOALIAS FLOAT64 WARNINGLEVEL(3) OPTIMIZE(3,SIZE)
                    - BROWSE INCDIR(..\..\libraries\zf_common;..\..\libraries\zf_components;..\..\libraries\zf_device;..\..\libraries\zf_driv
                    -er;..\user;..\code) DEBUG PRINT(.\out_file\Strategy.lst) OBJECT(.\out_file\Strategy.obj) 

stmt  level    source

    1          #include "Strategy.h"
    2          float uni=0;
    3          float last_uni=0;
    4          int if_time=0;
    5          int if2_time=0;
    6          int no_time=0;
    7          int over_time=0;
    8          int Continue_Time=0;
    9          unsigned char Enter_Flag_Left=0;
   10          unsigned char Enter_Flag_Right=0;
   11          unsigned char Cycle_Over=0;
   12          unsigned char Cycle_Stat=EXIT;
   13          //环岛判断
   14          void if_Cycle(void)
   15          {
   16   1              switch(Cycle_Stat)
   17   1              {
   18   2                      case EXIT:
   19   2                      {
   20   3                              Buzzer_OFF();
   21   3                              if(ADC_2==1023 || ADC_3==1023 )
   22   3                              {
   23   4                                      if_time++;
   24   4                                      if(if_time>Entern_Flag_Time)
   25   4                                      {
   26   5                                              Cycle_Stat=APPROACH;
   27   5                                              if_time=0;
   28   5                                              Cycle_Over=0;
   29   5                                      }
   30   4                              }
   31   3                              else
   32   3                              {
   33   4                                      if_time=0;
   34   4                              }
   35   3                              break;
   36   3                      }
   37   2                      case APPROACH:
   38   2                      {
   39   3                              if(ADC_2!=1023 || ADC_3!=1023)
   40   3                              {
   41   4                                      if2_time++;
   42   4                                      if(if2_time>Entern_Delay_Time)
   43   4                                      {
   44   5                                              Cycle_Stat=Left_ENTER;
   45   5                                              if2_time=0;
   46   5                                      }
   47   4                              }
   48   3                              break;
   49   3                      }
   50   2                      case Left_ENTER:
   51   2                      {
   52   3                              Enter_Flag_Left=1;
   53   3                              Buzzer_ON();
   54   3                              Continue_Time++;
   55   3                              if(Continue_Time>Entern_Continue_Time)
   56   3                              {
   57   4                                      Cycle_Stat=EXIT;
C251 COMPILER V5.60.0,  Strategy                                                           04/10/25  22:09:30  PAGE 2   

   58   4                                      Continue_Time = 0;  //
   59   4                      Enter_Flag_Left = 0;     //
   60   4                              }
   61   3                              break;
   62   3                      }
   63   2              }
   64   1      
   65   1      }
   66          //切弯补丁
   67          int Help_turn()
   68          {
   69   1              int left  = ADC_1 + ADC_2;
   70   1              int right = ADC_3 + ADC_4;
   71   1              if (left < 200 && right < 200)
   72   1              {
   73   2                      // 同时满足，取较小一侧优先
   74   2                      if (left < right)
   75   2                              return -40;   // 左
   76   2                      else
   77   2                              return 40;    // 右
   78   2              }
   79   1              else if (left < 200)
   80   1              {
   81   2                      return -40;   // 左
   82   2              }
   83   1              else if (right < 200)
   84   1              {
   85   2                      return 40;    // 右
   86   2              }
   87   1              else
   88   1              {
   89   2                      return 0;     // 不转
   90   2              }
   91   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       346     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =        22     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        77     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
